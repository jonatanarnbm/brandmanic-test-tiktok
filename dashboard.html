<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <!--    <link rel="stylesheet" href="/css/style.css" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Log in</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <style>
    * {
      font-family: Arial, Helvetica, sans-serif;
    }
  </style>

</head>

<body>
  <header>
    <nav style="display: flex;align-items: center;justify-content: space-evenly;">
      <a href="/index.html"><img style="width: 2rem;" src="https://cdn-icons-png.flaticon.com/512/2343/2343970.png"
          alt="Icono"></a>

      <div class="nav__login" style="display: flex;gap: 2rem;">
        <a href="/dashboard.html" style="color: black;">Dashboard</a>
        <a href="/index.html" style="color: black;">Log in</a>
      </div>
    </nav>
  </header>
  <main>
    <div class="contenido"
      style="display: flex;flex-direction: column;align-items: center;justify-content: center;padding: 1rem;background-color: white;gap: 3rem;">
      <div class="contenido__boton"
        style="display: flex;flex-direction: column;align-items: center;justify-content: center;gap: 1rem;">
        <img id="dev_image"
          src="https://sf16-muse-va.ibytedtos.com/obj/tiktok-open-platform/ttop_doc_images/66e0a0d14830c5cac14269acc0981348"
          alt="tiktok dev" style="margin:1rem;max-width: 30rem;">
        <a style="font-size: 1.3rem;min-width: 12rem;background-color: #000000;border-right: 2px solid red;border-bottom: 2px solid blue;border-radius: .2rem;padding: .5rem;      color: white;text-decoration: none;font-weight: bold;font-size: 1.4rem;"
          id="tiktokButton" href='#'>Continue with TikTok</a>
      </div>
      <div class="contenido__api" style="display: flex;align-items: center; flex-direction: column;gap:2rem">
        <table id="contenido__api--tablaUserInfo">
          <caption>GET USER INFO</caption>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="background-color: #000000;color: white;padding: .5rem;">Field</th>
            <th style="background-color: #000000;color: white;padding: .5rem;">Data</th>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">open_id:</th>
            <td id="open_id--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">union_id:</th>
            <td id="union_id--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">avatar_url:</th>
            <td id="avatar_url--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">avatar_url100:</th>
            <td id="avatar_url100--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">avatar_large_url:</th>
            <td id="avatar_large_url--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">display_name:</th>
            <td id="display_name--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">bio_description:</th>
            <td id="bio_description--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">profile_deep_link:</th>
            <td id="profile_deep_link--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">is_verified:</th>
            <td id="is_verified--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">follower_count:</th>
            <td id="follower_count--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">following_count:</th>
            <td id="following_count--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">likes_count:</th>
            <td id="likes_count--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="border: 1px solid black;padding: .5rem;">video_count:</th>
            <td id="video_count--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;"></td>
          </tr>

        </table>
        <table id="contenido__api--tablaQueryVideos">
          <caption>QUERY VIDEOS</caption>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="background-color: #000000;color: white;padding: .5rem;">Id</th>
            <th style="background-color: #000000;color: white;padding: .5rem;">Video</th>
          </tr>
        </table>        
        <table id="contenido__api--tablaListVideos">
          <caption>LIST VIDEOS</caption>
          <tr style="border: 1px solid black;padding: .5rem;">
            <th style="background-color: #000000;color: white;padding: .5rem;">Title</th>
            <th style="background-color: #000000;color: white;padding: .5rem;">Id</th>
            <th style="background-color: #000000;color: white;padding: .5rem;">Cover Image URL</th>
          </tr>
        </table>
      </div>


    </div>

  </main>
</body>
<script>

  /* Variables generales */
  var SERVER_ENDPOINT_OAUTH = 'http://google.com/';
  $("#tiktokButton").attr('href', SERVER_ENDPOINT_OAUTH);


  /* Variables del DOM - Display API (User Info)*/

  var open_id = $("#open_id--data");
  var union_id = $("#union_id--data");
  var avatar_url = $("#avatar_url--data");
  var avatar_url100 = $("#avatar_url100--data");
  var avatar_large_url = $("#avatar_large_url--data");
  var display_name = $("#display_name--data");
  var bio_description = $("#bio_description--data");
  var profile_deep_link = $("#profile_deep_link--data");
  var is_verified = $("#is_verified--data");
  var follower_count = $("#follower_count--data");
  var following_count = $("#following_count--data");
  var likes_count = $("#likes_count--data");
  var video_count = $("#video_count--data");
  
  /* Variables del DOM - Display API (Query Videos)*/
  var tablaQueryVideos = $("#contenido__api--tablaQueryVideos")
  var tablaListVideos = $("#contenido__api--tablaListVideos")

  /* Peticiones ficticia */
  let getUserInfoResponse = { "open_id": "1", "union_id": "2", "avatar_url": "http://...", "avatar_url100": "http://...", "avatar_large_url": "http://...", "display_name": "ToÃ±ito", "bio_description": "El mejor ToÃ±ito de calle ðŸ”¥ðŸ”¥", "profile_deep_link": "http://...", "is_verified": "1", "follower_count": "1234", "following_count": "1234", "likes_count": "54321", "video_count": "98765", }
  let queryVideosResponse = {
    "data": {
      "videos": [
        {
          "title": "Video 1",
          "id": "1234123412345678567"
        },
        {
          "title": "Video 2",
          "id": "1010102020203030303"
        }
      ]
    },
    "error": {
      "code": "ok",
      "message": "",
      "log_id": "20220829194722CBE87ED59D524E727021"
    }
  }
  let listVideosResponse = {
   "data":{
      "videos":[
         {
            "cover_image_url":"https://p16-sign.tiktokcdn-us.com/tos-useast5-p-0068-tx/979e93dbc5df40198f7ac935fb3e3342~tplv-noop.image?x-expires=1659000367&x-signature=EZIo1pVYVGYh%2FaNNaHHlbWEvw%2BM%3D",
            "id":"12345123451234512345",
            "title": "Video Title",
         },{
            "cover_image_url":"https://p16-sign.tiktokcdn-us.com/tos-useast5-p-0068-tx/979e93dbc5df40198f7ac935fb3e3342~tplv-noop.image?x-expires=1659000367&x-signature=EZIo1pVYVGYh%2FaNNaHHlbWEvw%2BM%3D",
            "id":"12345123451234512345",
            "title": "Video Title",
         }
      ],
      "cursor":1643332803000,
      "has_more":false
   },
   "error": {
      "code":"ok",
      "message":"",
      "log_id":"20220829194722CBE87ED59D524E727021"
   }
}


  /* Respuesta ficticia - Display API (User Info)*/

  open_id.text(getUserInfoResponse['open_id'])
  union_id.text(getUserInfoResponse['union_id'])
  avatar_url.text(getUserInfoResponse['avatar_url'])
  avatar_url100.text(getUserInfoResponse['avatar_url100'])
  avatar_large_url.text(getUserInfoResponse['avatar_large_url'])
  display_name.text(getUserInfoResponse['display_name'])
  bio_description.text(getUserInfoResponse['bio_description'])
  profile_deep_link.text(getUserInfoResponse['profile_deep_link'])
  is_verified.text(getUserInfoResponse['is_verified'])
  follower_count.text(getUserInfoResponse['follower_count'])
  following_count.text(getUserInfoResponse['following_count'])
  likes_count.text(getUserInfoResponse['likes_count'])
  video_count.text(getUserInfoResponse['video_count'])
  
  /* Respuesta ficticia - Display API (Query Videos)*/

  for (const video of queryVideosResponse.data.videos) {
    let html = `
      <tr style="border: 1px solid black;padding: .5rem;">
            <td style="border: 1px solid black;padding: .5rem;">${video.id}</td>
            <td id="open_id--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;">${video.title}</td>
      </tr>
    `;
    tablaQueryVideos.append(html)
  }

  /* Respuesta ficticia - Display API (Query Videos)*/

  for (const video of listVideosResponse.data.videos) {
    let html = `
      <tr style="border: 1px solid black;padding: .5rem;">
            <td style="border: 1px solid black;padding: .5rem;">${video.title}</td>
            <td id="open_id--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;">${video.id}</td>
            <td id="open_id--data" style="overflow: hidden;line-break: anywhere;max-width: 23rem;border: 1px solid black;padding: .5rem;">${video.cover_image_url}</td>
      </tr>
    `;
    tablaListVideos.append(html)
  }


</script>

</html>